[{"F:\\react-admin\\src\\index.js":"1","F:\\react-admin\\src\\App.js":"2","F:\\react-admin\\src\\views\\login\\RegisterForm.js":"3","F:\\react-admin\\src\\reportWebVitals.js":"4","F:\\react-admin\\src\\views\\login\\Log.js":"5","F:\\react-admin\\src\\views\\login\\LoginForm.js":"6","F:\\react-admin\\src\\views\\login\\index.js":"7"},{"size":500,"mtime":1611733687431,"results":"8","hashOfConfig":"9"},{"size":747,"mtime":1612512739583,"results":"10","hashOfConfig":"9"},{"size":3406,"mtime":1612620908951,"results":"11","hashOfConfig":"9"},{"size":362,"mtime":1611733687431,"results":"12","hashOfConfig":"9"},{"size":2806,"mtime":1612532013499,"results":"13","hashOfConfig":"9"},{"size":4426,"mtime":1613313131363,"results":"14","hashOfConfig":"9"},{"size":892,"mtime":1612875908219,"results":"15","hashOfConfig":"9"},{"filePath":"16","messages":"17","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"xmp32",{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"25"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"28","messages":"29","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"30"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"F:\\react-admin\\src\\index.js",[],"F:\\react-admin\\src\\App.js",[],["33","34"],"F:\\react-admin\\src\\views\\login\\RegisterForm.js",[],"F:\\react-admin\\src\\reportWebVitals.js",[],["35","36"],"F:\\react-admin\\src\\views\\login\\Log.js",[],"F:\\react-admin\\src\\views\\login\\LoginForm.js",["37","38"],"import React from \"react\";\r\nimport \"./index.less\";\r\nimport {withRouter} from 'react-router-dom'\r\nimport { Form, Input, Button, Row, Col,message } from \"antd\";\r\nimport { UserOutlined, LockOutlined, CodeOutlined } from \"@ant-design/icons\";\r\n\r\n// import { getCode } from \"../../api/account\";\r\n// import {setToken} from \"../../utils/session\";\r\n\r\nclass LoginForm extends React.Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      username:\"\",\r\n      code_button_disabled:true,\r\n      code_button_loading:false,\r\n      code_button_text:\"获取验证码\",\r\n    };\r\n  }\r\n  //点击登录\r\n  onFinish = (values) => {\r\n    console.log(\"Finish:\", values);\r\n    // login().then((res) => {});\r\n    //跳转路由\r\n    console.log(this.props)\r\n    let data=\"4556456456456456456456456\"\r\n    // setToken(data)\r\n    this.props.history.push(\"/index\")\r\n  };\r\n  toggleForm = () => {\r\n    this.props.switchForm(\"register\");\r\n  };\r\n\r\n  //用户名输入\r\n  nameChnage=(e)=>{\r\n    let value=e.target.value\r\n    console.log(e.target)\r\n    this.setState({\r\n      username:value\r\n    })\r\n  }\r\n\r\n  //倒计时方法\r\n  countDown(){\r\n    let sec=60,\r\n        timer=null\r\n    this.setState({\r\n      code_button_disabled:true,\r\n      code_button_loading:false,\r\n      code_button_text:`${sec}S`\r\n    })\r\n    timer=setInterval(()=>{\r\n      sec--\r\n      if(sec === 0){\r\n        clearInterval(timer)\r\n        this.setState({\r\n          code_button_text:`重新获取`,\r\n          code_button_disabled:false\r\n        })\r\n      }else{\r\n        this.setState({\r\n          code_button_text:`${sec}S`\r\n        })\r\n      }\r\n    },1000)\r\n  }\r\n\r\n  //获取验证码\r\n  getCode=()=>{\r\n    if(this.state.username.length<=0){\r\n      message.warning(\"请输入用户名\",1)\r\n      return false;\r\n    }\r\n    this.setState({\r\n      code_button_loading:true,\r\n      code_button_text:\"发送中\"\r\n    })\r\n    let params={}\r\n    .then(res=>{\r\n      //倒计时\r\n      this.state({\r\n        code_button_loading:false,\r\n      })\r\n      this.countDown()\r\n    }).catch(err=>{\r\n      this.state({\r\n        code_button_loading:false,\r\n        code_button_text:\"重新获取\"\r\n      })\r\n    })\r\n  }\r\n\r\n\r\n  render() {\r\n    // const _this=this\r\n    return (\r\n      <div>\r\n        <div className=\"form-header\">\r\n          <h4 className=\"column\">登录</h4>\r\n          <span onClick={this.toggleForm}>账号注册</span>\r\n        </div>\r\n        <div className=\"form-content\">\r\n          <Form\r\n            name=\"normal_login\"\r\n            className=\"login-form\"\r\n            initialValues={{\r\n              remember: true,\r\n            }}\r\n            onFinish={this.onFinish.bind(this)}\r\n          >\r\n            <Form.Item\r\n              className=\"item-input-name\"\r\n              name=\"username\"\r\n              initialValue=\"466879168@qq.com\"\r\n            >\r\n              <Input\r\n                prefix={<UserOutlined className=\"input-name\" />}\r\n                placeholder=\"管理员名\"\r\n                value={this.state.username}\r\n                onChange={this.nameChnage}\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"password\"\r\n              initialValue=\"123456\"\r\n            >\r\n              <Input\r\n                  type=\"password\"\r\n                prefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n                placeholder=\"密码\"\r\n              />\r\n            </Form.Item>\r\n            <Form.Item\r\n              name=\"code\"\r\n            >\r\n              <Row gutter={13}>\r\n                <Col className=\"gutter-row\" span={14}>\r\n                  <Input value=\"123456\" prefix={<CodeOutlined />} placeholder=\"验证码\" />\r\n                </Col>\r\n                <Col className=\"gutter-row\" span={10}>\r\n                  <Button type=\"danger\" block disabled={this.state.code_button_disabled} onClick={this.getCode} loading={this.state.code_button_loading}>\r\n                    {this.state.code_button_text}\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n            </Form.Item>\r\n            <Form.Item>\r\n              <Button\r\n                type=\"primary\"\r\n                htmlType=\"submit\"\r\n                className=\"login-form-button\"\r\n                block\r\n              >\r\n                登录\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(LoginForm);\r\n","F:\\react-admin\\src\\views\\login\\index.js",["39"],{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"40","replacedBy":"44"},{"ruleId":"42","replacedBy":"45"},{"ruleId":"46","severity":1,"message":"47","line":26,"column":9,"nodeType":"48","messageId":"49","endLine":26,"endColumn":13},{"ruleId":"46","severity":1,"message":"50","line":78,"column":9,"nodeType":"48","messageId":"49","endLine":78,"endColumn":15},{"ruleId":"46","severity":1,"message":"51","line":4,"column":8,"nodeType":"48","messageId":"49","endLine":4,"endColumn":11},"no-native-reassign",["52"],"no-negated-in-lhs",["53"],["52"],["53"],"no-unused-vars","'data' is assigned a value but never used.","Identifier","unusedVar","'params' is assigned a value but never used.","'Log' is defined but never used.","no-global-assign","no-unsafe-negation"]